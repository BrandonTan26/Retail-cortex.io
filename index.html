<!doctype html>
<html lang="id" data-theme="dark">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PCB6G2Q8');</script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Retail-Cortex.io — Service Modules</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Orbitron:wght@600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#070A16;
      --bg2:#0B1026;
      --card:rgba(10,14,32,.76);
      --card2:rgba(12,18,42,.86);
      --stroke:rgba(148,163,184,.22);
      --stroke2:rgba(148,163,184,.34);
      --text:#E8EEFF;
      --muted:rgba(232,238,255,.70);
      --muted2:rgba(232,238,255,.55);
      --brandA:#22d3ee;
      --brandB:#7c3aed;
      --brandC:#4c1d95;
      --good:#22c55e;
      --warn:#f59e0b;

      --r16:16px;
      --r18:18px;
      --r20:20px;
      --r22:22px;
      --shadow:0 18px 55px rgba(0,0,0,.55);
      --shadow2:0 26px 75px rgba(0,0,0,.70);

      --gutter:16px;
      --max:1100px;

      --floatingSize:54px;
    }

    html[data-theme="light"]{
      --bg:#EEF2FF;
      --bg2:#F8FAFF;
      --card:rgba(255,255,255,.86);
      --card2:rgba(255,255,255,.96);
      --stroke:rgba(2,6,23,.10);
      --stroke2:rgba(2,6,23,.16);
      --text:#0B1026;
      --muted:rgba(11,16,38,.72);
      --muted2:rgba(11,16,38,.58);
      --shadow:0 14px 38px rgba(2,6,23,.12);
      --shadow2:0 18px 46px rgba(2,6,23,.16);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 650px at 20% 0%, rgba(124,58,237,.35), transparent 55%),
        radial-gradient(900px 520px at 85% 15%, rgba(34,211,238,.26), transparent 58%),
        radial-gradient(900px 620px at 55% 110%, rgba(76,29,149,.32), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
      padding-bottom: 140px;
    }

    .bg-grid{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.16;
      background-image:
        linear-gradient(to right, rgba(129,140,248,.22) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(129,140,248,.22) 1px, transparent 1px);
      background-size: 52px 52px;
      mask-image: radial-gradient(circle at 50% 10%, rgba(0,0,0,1), rgba(0,0,0,.2) 55%, rgba(0,0,0,0) 85%);
      z-index:0;
    }

    .container{
      width:100%;
      max-width:var(--max);
      margin:0 auto;
      padding-left:var(--gutter);
      padding-right:var(--gutter);
      position:relative;
      z-index:1;
    }

    header{
      position:sticky; top:0;
      z-index:30;
      background:rgba(7,10,22,.55);
      backdrop-filter: blur(14px) saturate(1.2);
      border-bottom:1px solid var(--stroke);
    }
    html[data-theme="light"] header{ background:rgba(248,250,255,.72); }

    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }

    .brand img{
      width:44px;
      height:44px;
      border-radius:14px;
      object-fit:contain;
      flex:0 0 auto;
      box-shadow: 0 10px 28px rgba(0,0,0,.25);
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.08);
      padding:6px;
    }

    .brand-text{min-width:0; line-height:1.05}
    .brand-title{
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:1rem;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      background: linear-gradient(90deg, var(--brandB), var(--brandA));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .brand-sub{
      margin-top:4px;
      font-size:.72rem;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:var(--muted2);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .menuBtn{
      width:46px;height:46px;
      border-radius:16px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--text);
      display:flex;align-items:center;justify-content:center;
      box-shadow: var(--shadow);
      cursor:pointer;
    }
    html[data-theme="light"] .menuBtn{background:rgba(2,6,23,.04)}
    .menuBtn:active{transform:translateY(1px)}

    .hero{ padding:22px 0 12px; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:600;
      font-size:.88rem;
    }
    .pill .dot{
      width:10px;height:10px;border-radius:999px;
      background:linear-gradient(135deg,var(--brandB),var(--brandA));
      box-shadow: 0 0 0 6px rgba(34,211,238,.12);
    }

    .heroGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:18px;
      align-items:start;
      margin-top:14px;
    }
    @media (max-width:900px){ .heroGrid{grid-template-columns:1fr; gap:14px;} }

    .heroTitle{
      margin:10px 0 10px;
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      line-height:1.06;
      font-size:2.35rem;
      text-wrap: balance;
      overflow-wrap:anywhere;
    }
    @media (max-width:480px){ .heroTitle{font-size:2.05rem; letter-spacing:.05em;} }

    .heroTitle .accent{
      background:linear-gradient(90deg,var(--brandB),var(--brandA));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }

    .heroDesc{
      margin:0;
      color:var(--muted);
      font-size:1rem;
      line-height:1.7;
      max-width: 56ch;
    }

    .heroCards{ display:grid; gap:10px; }
    .miniCard{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius:var(--r20);
      box-shadow: var(--shadow);
      padding:14px;
    }
    .miniCard h4{
      margin:0 0 6px;
      font-size:.98rem;
      font-weight:900;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    .miniCard p{ margin:0; color:var(--muted); font-size:.92rem; line-height:1.6; }

    .section{ padding:18px 0 10px; }
    .section h2{
      margin:0 0 6px;
      font-size:1.35rem;
      font-weight:900;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    .section .sub{ margin:0 0 14px; color:var(--muted); line-height:1.65; }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr);} }
    @media (max-width:560px){ .grid{grid-template-columns:1fr;} }

    .card{
      border:1px solid var(--stroke);
      border-radius:var(--r20);
      background: radial-gradient(900px 220px at 10% 0%, rgba(34,211,238,.14), transparent 55%), var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    html[data-theme="light"] .card{
      background: radial-gradient(900px 220px at 10% 0%, rgba(124,58,237,.10), transparent 55%), var(--card);
    }

    .cardTop{
      padding:14px 14px 10px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
    }
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:900;
      font-size:.78rem;
      letter-spacing:.10em;
      text-transform:uppercase;
    }
    .iconBox{
      width:44px;height:44px;border-radius:16px;
      display:flex;align-items:center;justify-content:center;
      border:1px solid var(--stroke2);
      background:linear-gradient(135deg, rgba(124,58,237,.20), rgba(34,211,238,.12));
      box-shadow: 0 14px 36px rgba(0,0,0,.25);
      flex:0 0 auto;
    }
    .iconBox svg{width:22px;height:22px;opacity:.95}

    .cardBody{ padding:0 14px 14px; }

    .cardTitle{
      margin:2px 0 6px;
      font-size:1.08rem;
      font-weight:1000;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    .cardDesc{ margin:0 0 12px; color:var(--muted); line-height:1.65; font-size:.94rem; }

    .cardActions{ display:grid; gap:10px; align-items:center; }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius:16px;
      padding:12px 14px;
      font-weight:900;
      font-size:.95rem;
      letter-spacing:.01em;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      transition: transform .12s ease, opacity .12s ease;
      user-select:none;
      width:100%;
    }
    .btn:active{transform:translateY(1px)}
    .btnPrimary{
      color:#061026;
      background:linear-gradient(90deg,var(--brandB),var(--brandA));
      box-shadow: var(--shadow);
    }
    .btnGhost{
      color:var(--text);
      background:rgba(255,255,255,.06);
      border:1px solid var(--stroke2);
    }
    html[data-theme="light"] .btnGhost{background:rgba(2,6,23,.04)}

    .btnRow2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    @media (max-width:560px){ .btnRow2{grid-template-columns:1fr;} }

    .testiWrap{ display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
    @media (max-width:900px){.testiWrap{grid-template-columns:1fr;}}
    .testi{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius:var(--r20);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .stars{letter-spacing:2px; color:#fbbf24; font-size:.95rem}
    .testi p{margin:8px 0 0; color:var(--muted); line-height:1.65}
    .testi .name{margin-top:10px; font-weight:900}
    .testi .meta{color:var(--muted2); font-size:.9rem}

    .overlay{
      position:fixed; inset:0;
      background:rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      display:none;
      z-index:50;
      padding: 12px;
    }
    .overlay.open{display:flex; align-items:center; justify-content:center;}
    .modal{
      width:100%;
      max-width: 720px;
      border-radius: 22px;
      border:1px solid var(--stroke2);
      background: var(--card2);
      box-shadow: var(--shadow2);
      overflow:hidden;
      max-height: 92vh;
      display:flex;
      flex-direction:column;
    }
    .modalHeader{
      padding:14px 14px;
      background: linear-gradient(90deg, rgba(124,58,237,.35), rgba(34,211,238,.22));
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      flex:0 0 auto;
    }
    .modalHeader h3{
      margin:0;
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:1.05rem;
    }
    .closeBtn{
      width:42px;height:42px;border-radius:16px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      color:var(--text);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      flex:0 0 auto;
    }
    html[data-theme="light"] .closeBtn{background:rgba(2,6,23,.04)}

    .modalBody{
      padding:14px;
      overflow:auto;
      flex:1 1 auto;
    }
    .modalFooter{
      padding:14px;
      border-top:1px solid var(--stroke);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      flex:0 0 auto;
    }

    .field{ display:grid; gap:8px; margin-bottom:12px; }
    .label{
      font-weight:900;
      color:var(--muted);
      font-size:.9rem;
      text-transform:uppercase;
      letter-spacing:.06em;
    }
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: 16px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--text);
      outline:none;
      font-weight:800;
      font-size:.98rem;
    }
    html[data-theme="light"] input, html[data-theme="light"] select, html[data-theme="light"] textarea{
      background:rgba(2,6,23,.04);
    }
    textarea{min-height:94px; resize:vertical; font-weight:700}
    .help{
      margin:6px 0 0;
      color:var(--muted2);
      font-size:.9rem;
      line-height:1.55;
    }

    .inline2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    @media (max-width:560px){.inline2{grid-template-columns:1fr;}}

    .pdfRow{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px; }
    @media (max-width:560px){.pdfRow{grid-template-columns:1fr;}}

    .floating{
      position:fixed;
      bottom:16px;
      z-index:40;
      width:var(--floatingSize);
      height:var(--floatingSize);
      border-radius: 999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      box-shadow: var(--shadow2);
      color:var(--text);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      user-select:none;
    }
    html[data-theme="light"] .floating{background:rgba(2,6,23,.04)}
    .floating:active{transform:translateY(1px)}
    .floatingLeft{left:16px}
    .floatingRight{right:16px}

    .count{
      position:absolute;
      top:-6px; right:-6px;
      min-width:22px;height:22px;
      border-radius:999px;
      background: var(--good);
      color:#06200f;
      font-weight:1000;
      font-size:.78rem;
      display:flex;align-items:center;justify-content:center;
      border:2px solid rgba(0,0,0,.20);
    }

    .drawerOverlay{
      position:fixed; inset:0;
      background:rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      display:none;
      z-index:60;
      padding: 12px;
    }
    .drawerOverlay.open{display:block;}
    .drawer{
      position:absolute;
      right:12px; bottom:12px;
      width:min(520px, calc(100% - 24px));
      border-radius:22px;
      border:1px solid var(--stroke2);
      background: var(--card2);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .drawerHeader{
      padding:14px;
      background: linear-gradient(90deg, rgba(124,58,237,.35), rgba(34,211,238,.22));
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .drawerHeader h3{
      margin:0;
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:1.02rem;
    }
    .drawerBody{padding:14px; max-height: 56vh; overflow:auto;}
    .drawerFooter{
      padding:14px;
      border-top:1px solid var(--stroke);
      display:grid;
      gap:10px;
    }
    .item{
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.05);
      border-radius:18px;
      padding:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      margin-bottom:10px;
    }
    html[data-theme="light"] .item{background:rgba(2,6,23,.03)}
    .item .t{font-weight:1000;text-transform:uppercase}
    .item .m{color:var(--muted); font-size:.9rem; margin-top:4px; line-height:1.55}
    .item .right{display:flex; flex-direction:column; gap:8px; align-items:flex-end}
    .qty{
      display:flex; align-items:center; gap:8px;
      border:1px solid var(--stroke2);
      border-radius:999px;
      padding:6px 8px;
      background:rgba(255,255,255,.06);
    }
    .qbtn{
      width:30px;height:30px;border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      color:var(--text);
      cursor:pointer;
      font-weight:1000;
    }
    .qbtn:active{transform:translateY(1px)}
    .qty span{min-width:18px; text-align:center; font-weight:1000}
    .rm{
      border:none;
      background:transparent;
      color:rgba(248,113,113,.92);
      font-weight:1000;
      cursor:pointer;
    }

    .totals{
      display:flex; justify-content:space-between; align-items:center;
      font-weight:1000;
      padding:12px;
      border:1px solid var(--stroke);
      border-radius:18px;
      background:rgba(255,255,255,.05);
    }
    html[data-theme="light"] .totals{background:rgba(2,6,23,.03)}
    .totals .value{color:var(--good)}
    .noteSmall{color:var(--muted2); font-size:.88rem; line-height:1.55; margin:0}

    footer{
      margin-top: 22px;
      padding: 18px 0 6px;
      color:var(--muted2);
      border-top:1px solid var(--stroke);
    }
    .foot{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      font-size:.88rem;
    }
    .heart{color:#fb7185}

    .payGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width:720px){
      .payGrid{grid-template-columns:1fr;}
    }
    .payCard{
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.05);
      border-radius:18px;
      padding:12px;
    }
    html[data-theme="light"] .payCard{background:rgba(2,6,23,.03)}
    .payTitle{
      margin:0 0 8px;
      font-weight:1000;
      text-transform:uppercase;
      letter-spacing:.08em;
      font-size:.95rem;
    }
    .qrisImg{
      width:min(260px, 82%);
      max-height:42vh;
      object-fit:contain;
      display:block;
      margin:10px auto 0;
      border-radius:16px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.04);
      padding:8px;
    }
    .payHint{
      margin:8px 0 0;
      color:var(--muted2);
      font-size:.9rem;
      line-height:1.5;
    }
    .payChoiceRow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:560px){
      .payChoiceRow{grid-template-columns:1fr;}
    }
    .disabledBtn{ opacity:.55; pointer-events:none; }
  </style>
</head>

<body>
  <!-- ===== WELCOME POPUP ===== -->
<div class="overlay" id="welcomeOverlay" role="dialog" aria-modal="true">
  <div class="modal" style="max-width:680px">
    <div class="modalHeader">
      <h3>WELCOME TO RETAIL-CORTEX</h3>
      <button class="closeBtn" id="welcomeClose" aria-label="Tutup">
        <svg viewBox="0 0 24 24" fill="none" width="20" height="20">
          <path d="M6 6l12 12M18 6 6 18"
                stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <div class="modalBody" style="text-align:center">
      <div style="font-weight:900; letter-spacing:.12em; font-size:.85rem; color:var(--muted2); margin-bottom:10px;">
        NO FLOP, NO LPJ!
      </div>
      <p class="help" style="margin:0;">
        Portal layanan operasional toko.<br>
        Lengkapi data, lakukan checkout, lalu unggah bukti pembayaran untuk konfirmasi.
      </p>
    </div>

    <div class="modalFooter" style="justify-content:center">
      <button class="btn btnPrimary" id="welcomeOk">GOT IT</button>
    </div>
  </div>
</div>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PCB6G2Q8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="bg-grid"></div>

  <!-- Header -->
  <header>
    <div class="container">
      <div class="nav">
        <div class="brand">
          <img src="retail-cortex-logo.png" alt="Retail-Cortex.io" onerror="this.style.display='none'">
          <div class="brand-text">
            <div class="brand-title">RETAIL-CORTEX.IO</div>
            <div class="brand-sub">SERVICE MODULES</div>
          </div>
        </div>
        <button class="menuBtn" id="menuBtn" aria-label="Menu">
          <svg viewBox="0 0 24 24" fill="none" width="22" height="22">
            <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main>
    <!-- Hero -->
    <section class="hero">
      <div class="container">
        <div class="pill">
          <span class="dot"></span>
          <span>Portal layanan operasional toko — cepat, rapi, dan terukur.</span>
        </div>
        <div class="heroGrid">
          <div>
            <h1 class="heroTitle">
              <span class="accent">Retail-Cortex.io</span><br>
              Layanan untuk Eksekusi Toko.
            </h1>
            <p class="heroDesc">
              Retail-Cortex.io membantu tim toko menyelesaikan kebutuhan operasional seperti penambahan member,
              pembaruan area coverage, coaching PPS/Suegeerr, hingga penyusunan presentasi kerja yang rapi untuk
              evaluasi maupun pengajuan jabatan.
            </p>
          </div>
          <div class="heroCards">
            <div class="miniCard">
              <h4>Alur Order</h4>
              <p>Pilih modul → isi seperlunya → masuk keranjang → checkout → pembayaran (QRIS/TF) → upload bukti → WhatsApp.</p>
            </div>
            <div class="miniCard">
              <h4>Status</h4>
              <p>Mode: <b id="modeLabel">DARK</b> • Sistem: <b>READY</b> • Checkout: <b>PAY + FORM + WA</b></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modules -->
    <section class="section">
      <div class="container">
        <h2>Cortex Service Modules</h2>
        <p class="sub">Klik modul, isi seperlunya, lalu checkout. Pembayaran muncul setelah checkout.</p>

        <div class="grid" id="moduleGrid">
          <!-- MEMBERSHIP -->
          <article class="card">
            <div class="cardTop">
              <div class="badge">MEMBERSHIP</div>
              <div class="iconBox" aria-hidden="true" title="Membership">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="currentColor" stroke-width="2"></path>
                  <path d="M19 8v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M22 11h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                </svg>
              </div>
            </div>
            <div class="cardBody">
              <div class="cardTitle">NEW MEMBER FRESH</div>
              <p class="cardDesc">Tambah member baru, tanpa harus pusing mencari member baru.</p>
              <div class="cardActions">
                <button class="btn btnPrimary" data-open="member">
                  <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                    <path d="M7 7h10M7 12h10M7 17h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                  </svg>
                  <span>DETAIL & INPUT</span>
                </button>
              </div>
            </div>
          </article>

          <!-- AREA COVERAGE -->
          <article class="card">
            <div class="cardTop">
              <div class="badge">DESIGN</div>
              <div class="iconBox" aria-hidden="true" title="Maps / Coverage">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M12 21s6-5 6-10a6 6 0 1 0-12 0c0 5 6 10 6 10Z" stroke="currentColor" stroke-width="2"></path>
                  <path d="M12 11.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" stroke="currentColor" stroke-width="2"></path>
                  <path d="M7 21h10" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity=".85"></path>
                </svg>
              </div>
            </div>
            <div class="cardBody">
              <div class="cardTitle">DESIGN AREA COVERAGE</div>
              <p class="cardDesc">Update Area Coverage terbaru, detail mapping sesuai radius toko.</p>
              <div class="cardActions">
                <button class="btn btnPrimary" data-open="area">
                  <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                    <path d="M12 21s6-5 6-10a6 6 0 1 0-12 0c0 5 6 10 6 10Z" stroke="currentColor" stroke-width="2"></path>
                    <path d="M12 11.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" stroke="currentColor" stroke-width="2"></path>
                  </svg>
                  <span>DETAIL & INPUT</span>
                </button>
              </div>
            </div>
          </article>

          <!-- PPS -->
          <article class="card">
            <div class="cardTop">
              <div class="badge">COACHING</div>
              <div class="iconBox" aria-hidden="true" title="PPS">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10Z" stroke="currentColor" stroke-width="2"></path>
                  <path d="M12 18a6 6 0 1 0-6-6 6 6 0 0 0 6 6Z" stroke="currentColor" stroke-width="2"></path>
                  <path d="M12 14a2 2 0 1 0-2-2 2 2 0 0 0 2 2Z" stroke="currentColor" stroke-width="2"></path>
                </svg>
              </div>
            </div>
            <div class="cardBody">
              <div class="cardTitle">MODUL RAHASIA TOP 10 PPS</div>
              <p class="cardDesc">Coaching sampai paham alur penawaran. Harga fix (di pembayaran).</p>
              <div class="cardActions">
                <div class="btnRow2">
                  <button class="btn btnGhost" data-add-fixed="PPS" data-title="MODUL RAHASIA TOP 10 PPS">
                    <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                      <path d="M6 6h15l-1.5 9h-12Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                      <path d="M6 6 5 3H2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                      <path d="M9 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM18 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                    <span>TAMBAH</span>
                  </button>
                  <button class="btn btnPrimary" data-consult="PPS">
                    <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                      <path d="M20 12a8 8 0 0 1-8 8H7l-3 2 1-4a8 8 0 1 1 15-6Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                      <path d="M8 12h8M8 9h5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                    </svg>
                    <span>KONSULTASI</span>
                  </button>
                </div>
              </div>
            </div>
          </article>

          <!-- SUEGEEERR -->
          <article class="card">
            <div class="cardTop">
              <div class="badge">COACHING</div>
              <div class="iconBox" aria-hidden="true" title="Suegeerr">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M13 2 3 14h8l-1 8 10-12h-8l1-8Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                </svg>
              </div>
            </div>
            <div class="cardBody">
              <div class="cardTitle">MODUL RAHASIA TOP 10 SUEGEEERRR</div>
              <p class="cardDesc">Pendampingan eksekusi agar target tercapai. Harga fix (di pembayaran).</p>
              <div class="cardActions">
                <div class="btnRow2">
                  <button class="btn btnGhost" data-add-fixed="SUEG" data-title="MODUL RAHASIA TOP 10 SUEGEEERRR">
                    <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                      <path d="M6 6h15l-1.5 9h-12Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                      <path d="M6 6 5 3H2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                      <path d="M9 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM18 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                    <span>TAMBAH</span>
                  </button>
                  <button class="btn btnPrimary" data-consult="SUEG">
                    <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                      <path d="M20 12a8 8 0 0 1-8 8H7l-3 2 1-4a8 8 0 1 1 15-6Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                      <path d="M8 12h8M8 9h5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                    </svg>
                    <span>KONSULTASI</span>
                  </button>
                </div>
              </div>
            </div>
          </article>

          <!-- PPT -->
          <article class="card">
            <div class="cardTop">
              <div class="badge">PRESENTASI</div>
              <div class="iconBox" aria-hidden="true" title="PPT">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M4 4h16v12H4z" stroke="currentColor" stroke-width="2"></path>
                  <path d="M8 20h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M12 16v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                  <path d="M7 8h10M7 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                </svg>
              </div>
            </div>
            <div class="cardBody">
              <div class="cardTitle">BIKIN PPT</div>
              <p class="cardDesc">Presentasi rapi untuk evaluasi / pengajuan jabatan. Harga konsultasi (beda-beda).</p>
              <div class="cardActions">
                <div class="btnRow2">
                  <button class="btn btnGhost" data-add-simple="BIKIN PPT">
                    <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                      <path d="M6 6h15l-1.5 9h-12Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                      <path d="M6 6 5 3H2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                      <path d="M9 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM18 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                    <span>TAMBAH</span>
                  </button>
                  <button class="btn btnPrimary" data-consult="PPT">
                    <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                      <path d="M20 12a8 8 0 0 1-8 8H7l-3 2 1-4a8 8 0 1 1 15-6Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
                      <path d="M8 12h8M8 9h5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                    </svg>
                    <span>KONSULTASI</span>
                  </button>
                </div>
              </div>
            </div>
          </article>
        </div>

      </div>
    </section>

    <!-- Testimonials -->
    <section class="section">
      <div class="container">
        <h2>Ulasan Singkat</h2>
        <p class="sub">Ringkasan pengalaman beberapa pengguna. Nama disamarkan.</p>
        <div class="testiWrap">
          <div class="testi">
            <div class="stars">★★★★★</div>
            <p>“Mantap gausah cari member lg tinggal order, murahh josss.”</p>
            <div class="name">R***</div>
            <div class="meta">Operational Support</div>
          </div>
          <div class="testi">
            <div class="stars">★★★★★</div>
            <p>“Design Area coverage nya keren mantull cocok.”</p>
            <div class="name">A***</div>
            <div class="meta">Store Team</div>
          </div>
          <div class="testi">
            <div class="stars">★★★★☆</div>
            <p>“PPT untuk evaluasi karier lebih rapi dan mudah dipresentasikan.”</p>
            <div class="name">N***</div>
            <div class="meta">Supervisor</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="foot">
          <div>© <span id="y">2026</span> Retail-Cortex.io</div>
          <div>Crafted with <span class="heart">❤</span> • D&D A Digital Creative Studio</div>
        </div>
      </div>
    </footer>
  </main>

  <!-- Floating: Theme -->
  <button class="floating floatingLeft" id="themeBtn" aria-label="Toggle Theme" title="Toggle Theme">
    <svg id="themeIcon" viewBox="0 0 24 24" fill="none" width="22" height="22">
      <path d="M21 13a8 8 0 1 1-10-10 6.5 6.5 0 0 0 10 10Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
    </svg>
  </button>

  <!-- Floating: Cart -->
  <button class="floating floatingRight" id="cartBtn" aria-label="Keranjang" title="Keranjang">
    <span class="count" id="cartCount">0</span>
    <svg viewBox="0 0 24 24" fill="none" width="22" height="22">
      <path d="M6 6h15l-1.5 9h-12Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path>
      <path d="M6 6 5 3H2" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
      <path d="M9 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM18 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" stroke="currentColor" stroke-width="2"></path>
    </svg>
  </button>

  <!-- ===== Member Modal ===== -->
  <div class="overlay" id="memberOverlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalHeader">
        <h3>NEW MEMBER FRESH</h3>
        <button class="closeBtn" data-close="member" aria-label="Tutup">
          <svg viewBox="0 0 24 24" fill="none" width="20" height="20">
            <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
      </div>
      <div class="modalBody">
        <p class="help" style="margin-top:0">
          Isi jumlah member, sistem menghitung harga/member dan total otomatis. Setelah itu tambahkan ke keranjang. Pembayaran muncul saat checkout.
        </p>

        <div class="field">
          <div class="label">Jumlah member</div>
          <input type="number" id="m_qty" min="1" step="1" placeholder="Contoh: 12">
        </div>

        <div class="inline2">
          <div class="field">
            <div class="label">Kode toko</div>
            <input type="text" id="m_kodetoko" placeholder="Contoh: 2G44">
          </div>
          <div class="field">
            <div class="label">PIN / Tanggal lahir</div>
            <input type="text" id="m_pin" placeholder="Contoh: 101091">
          </div>
        </div>

        <div class="field">
          <div class="label">Ringkasan (WA)</div>
          <textarea id="m_preview" readonly></textarea>
          <p class="help">Catatan harga: Rp5.000/member (di bawah 10). Jika 10 atau lebih: Rp4.500/member.</p>
        </div>
      </div>

      <div class="modalFooter">
        <button class="btn btnGhost" data-close="member">TUTUP</button>
        <button class="btn btnPrimary" id="m_addCart">TAMBAH KE KERANJANG</button>
      </div>
    </div>
  </div>

  <!-- ===== Area Modal ===== -->
  <div class="overlay" id="areaOverlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalHeader">
        <h3>DESIGN AREA COVERAGE</h3>
        <button class="closeBtn" data-close="area" aria-label="Tutup">
          <svg viewBox="0 0 24 24" fill="none" width="20" height="20">
            <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
      </div>

      <div class="modalBody">
        <p class="help" style="margin-top:0">
          Isi data singkat untuk brief. Harga <b>Rp45.000</b> dan revisi gratis <b>1 x 24 jam</b>. Contoh PDF tersedia pada tombol di bawah.
        </p>

        <div class="inline2">
          <div class="field">
            <div class="label">Nama toko</div>
            <input type="text" id="a_namatoko" placeholder="Contoh: Alfamart KP Garung Tambak">
          </div>
          <div class="field">
            <div class="label">Kode toko</div>
            <input type="text" id="a_kodetoko" placeholder="Contoh: 2G44">
          </div>
        </div>

        <div class="inline2">
          <div class="field">
            <div class="label">Berapa sub</div>
            <input type="text" id="a_sub" placeholder="Contoh: 5 sub">
          </div>
          <div class="field">
            <div class="label">Format</div>
            <select id="a_format">
              <option value="">Pilih format</option>
              <option value="Landscape">Landscape</option>
              <option value="Portrait">Portrait</option>
            </select>
          </div>
        </div>

        <div class="field">
          <div class="label">Sharelok toko</div>
          <input type="text" id="a_sharelok" placeholder="Tempel link share location Google Maps">
        </div>

        <div class="miniCard" style="margin-top:10px;">
          <h4 style="margin:0 0 8px;">Lihat Contoh PDF</h4>
          <div class="pdfRow">
            <button class="btn btnGhost" id="btnPdfLandscape" type="button">CONTOH LANDSCAPE</button>
            <button class="btn btnGhost" id="btnPdfPortrait" type="button">CONTOH PORTRAIT</button>
          </div>
        </div>
      </div>

      <div class="modalFooter">
        <button class="btn btnGhost" data-close="area">TUTUP</button>
        <button class="btn btnPrimary" id="a_addCart">TAMBAH KE KERANJANG</button>
      </div>
    </div>
  </div>

  <!-- ===== Cart Drawer ===== -->
  <div class="drawerOverlay" id="drawerOverlay" aria-hidden="true">
    <div class="drawer" role="dialog" aria-modal="true">
      <div class="drawerHeader">
        <h3>Keranjang</h3>
        <button class="closeBtn" id="closeCart" aria-label="Tutup">
          <svg viewBox="0 0 24 24" fill="none" width="20" height="20">
            <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
      </div>
      <div class="drawerBody" id="cartItems">
        <p class="help" style="margin:0">Keranjang masih kosong.</p>
      </div>
      <div class="drawerFooter">
        <div class="totals">
          <span>Total</span>
          <span class="value" id="cartTotal">Rp0</span>
        </div>
        <p class="noteSmall" id="cartNote" style="display:none;"></p>
        <button class="btn btnGhost" id="clearCart">Hapus Keranjang</button>
        <button class="btn btnPrimary" id="checkoutBtn">Checkout</button>
      </div>
    </div>
  </div>

  <!-- ===== Payment Modal ===== -->
  <div class="overlay" id="payOverlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalHeader">
        <h3>Pembayaran</h3>
        <button class="closeBtn" data-close="pay" aria-label="Tutup">
          <svg viewBox="0 0 24 24" fill="none" width="20" height="20">
            <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>
      </div>

      <div class="modalBody">
        <p class="help" style="margin-top:0">
          Pilih metode pembayaran, isi nama pemesan, lalu upload bukti via Form. Setelah itu tombol <b>KONFIRMASI PAYMENT</b> akan aktif.
        </p>

        <div class="payChoiceRow">
          <button class="btn btnGhost" id="payChooseQR">PILIH QRIS</button>
          <button class="btn btnGhost" id="payChooseTF">PILIH TRANSFER</button>
        </div>

        <!-- Nama pemesan (wajib) -->
        <div class="field" style="margin-top:12px;">
          <div class="label">Nama pemesan</div>
          <input type="text" id="payBuyerName" placeholder="Tulis nama pemesan">
          <p class="help" style="margin-top:0">Wajib diisi biar rapi ke Spreadsheet.</p>
        </div>

        <div class="payGrid" style="margin-top:12px;">
          <div class="payCard" id="payQRCard" style="display:none;">
            <div class="payTitle">QRIS</div>
            <img class="qrisImg" src="qris.png" alt="QRIS" onerror="this.style.display='none'">
            <p class="payHint">Scan QRIS di atas untuk pembayaran.</p>
          </div>

          <div class="payCard" id="payTFCard" style="display:none;">
            <div class="payTitle">TRANSFER / E-WALLET</div>

            <div style="margin-bottom:10px;">
              <div style="font-weight:1000; text-transform:uppercase; letter-spacing:.06em;">ATM</div>
              <div>● ALADIN : 50418072326</div>
              <div>● BCA : 5505059198</div>
              <div>● SEABANK : 901245439994</div>
              <div>● SUPERBANK : 000075561431</div>
              <div style="margin-top:6px;color:var(--muted2);">A/n BRANDO</div>
            </div>

            <div style="height:1px;background:var(--stroke);margin:10px 0;"></div>

            <div>
              <div style="font-weight:1000; text-transform:uppercase; letter-spacing:.06em;">EWALLET</div>
              <div>● SHOPEE : 081717872185 (Brando26)</div>
              <div>● DANA : 085182197994 (WAJIB +100)</div>
              <div>● GOPAY : 081717872185</div>
              <div>● OVO : 081717872185</div>
              <div style="margin-top:6px;color:var(--muted2);">A/n BRANDO</div>
            </div>
          </div>
        </div>

        <!-- Status upload -->
        <div class="miniCard" style="margin-top:12px;">
          <h4 style="margin:0 0 6px;">Upload Bukti</h4>
          <p class="help" style="margin:0">
            Klik tombol <b>UPLOAD BUKTI (FORM)</b>, lalu upload bukti transfer/QRIS di Google Form. Setelah itu balik lagi ke sini dan klik <b>KONFIRMASI PAYMENT</b>.
          </p>
          <p class="help" style="margin:8px 0 0;">
            Status: <b id="uploadStateLabel">BELUM UPLOAD</b>
          </p>
        </div>
      </div>

      <div class="modalFooter">
        <button class="btn btnGhost" data-close="pay">BATAL</button>
        <button class="btn btnGhost" id="payUploadForm" type="button">UPLOAD BUKTI (FORM)</button>
        <button class="btn btnPrimary disabledBtn" id="payConfirm" type="button">KONFIRMASI PAYMENT</button>
      </div>
    </div>
  </div>

  <script>
    // =========================
// ===== WELCOME POPUP =====
// =========================
const welcomeOverlay = document.getElementById("welcomeOverlay");
const welcomeOk = document.getElementById("welcomeOk");
const welcomeClose = document.getElementById("welcomeClose");

function openWelcome(){
  welcomeOverlay.classList.add("open");
}
function closeWelcome(){
  welcomeOverlay.classList.remove("open");
}

// Muncul setiap refresh
window.addEventListener("load", () => {
  openWelcome();
});

// Tombol GOT IT
welcomeOk.addEventListener("click", closeWelcome);

// Tombol X
welcomeClose.addEventListener("click", closeWelcome);

// Klik area luar modal
welcomeOverlay.addEventListener("click", (e) => {
  if(e.target === welcomeOverlay) closeWelcome();
});
    // =========================
    // ====== CONFIG ===========
    // =========================

    const PDF_LANDSCAPE = "area-coverage-landscape.pdf";
    const PDF_PORTRAIT  = "area-coverage-portrait.pdf";

    // Nomor WA tujuan
    const WA_NUMBER = "6287809236556";

    const PRICE_AREA = 45000;
    const PRICE_PPS  = 100000;
    const PRICE_SUEG = 100000;

    // Google Form Prefill (punya lu)
    const FORM_PREFILL_BASE =
      "https://docs.google.com/forms/d/e/1FAIpQLSdHo_c14Cf6ZVJypWjH64rQdO2Pz58Gv5v7d14Butjjlw2Vcw/viewform?usp=pp_url";

    // Entry mapping dari link lu
    const FORM_ENTRY = {
      payMethod: "685612651",
      orderNo:   "667869016",
      summary:   "1337876896",
      totalRp:   "957854829",
      buyerName: "1306948454",
    };

    // =========================
    // ====== HELPERS ==========
    // =========================
    const money = (n) => "Rp" + (Number(n || 0)).toLocaleString("id-ID");
    const moneyUpperRpDot = (n) => {
      const x = Number(n || 0);
      return "RP. " + x.toLocaleString("id-ID");
    };

    const clampInt = (v, min=1) => {
      const x = parseInt(v, 10);
      if (Number.isNaN(x)) return min;
      return Math.max(min, x);
    };

    function siteUrl(path){
      const base = window.location.origin.replace(/\/$/, "");
      return base + "/" + String(path || "").replace(/^\//, "");
    }

    function rand4(){
      return Math.floor(1000 + Math.random() * 9000);
    }
    function pad2(n){ return String(n).padStart(2,"0"); }

    function makeOrderNo(){
      const d = new Date();
      const y = d.getFullYear();
      const m = pad2(d.getMonth()+1);
      const day = pad2(d.getDate());
      const hh = pad2(d.getHours());
      const mm = pad2(d.getMinutes());
      const ss = pad2(d.getSeconds());
      return `RC-${y}${m}${day}-${hh}${mm}${ss}-${rand4()}`;
    }

    function buildPrefillUrl({payMethod, orderNo, summary, totalRp, buyerName}) {
      const u = new URL(FORM_PREFILL_BASE);
      u.searchParams.set(`entry.${FORM_ENTRY.payMethod}`, payMethod || "");
      u.searchParams.set(`entry.${FORM_ENTRY.orderNo}`, orderNo || "");
      u.searchParams.set(`entry.${FORM_ENTRY.summary}`, summary || "");
      u.searchParams.set(`entry.${FORM_ENTRY.totalRp}`, String(totalRp || ""));
      u.searchParams.set(`entry.${FORM_ENTRY.buyerName}`, buyerName || "");
      return u.toString();
    }

    // =========================
    // ====== THEME ============
    // =========================
    const themeBtn = document.getElementById("themeBtn");
    const modeLabel = document.getElementById("modeLabel");

    function setMode(mode){
      document.documentElement.setAttribute("data-theme", mode);
      localStorage.setItem("rc_theme", mode);
      modeLabel.textContent = (mode === "light" ? "LIGHT" : "DARK");
    }

    (function initTheme(){
      const saved = localStorage.getItem("rc_theme") || "dark";
      setMode(saved);
      themeBtn.addEventListener("click", () => {
        const cur = document.documentElement.getAttribute("data-theme");
        setMode(cur === "dark" ? "light" : "dark");
      });
    })();

    document.getElementById("y").textContent = new Date().getFullYear();

    // =========================
    // ====== MODALS ===========
    // =========================
    const memberOverlay = document.getElementById("memberOverlay");
    const areaOverlay   = document.getElementById("areaOverlay");
    const payOverlay    = document.getElementById("payOverlay");

    function openOverlay(which){
      if(which === "member") memberOverlay.classList.add("open");
      if(which === "area")   areaOverlay.classList.add("open");
      if(which === "pay")    payOverlay.classList.add("open");
    }
    function closeOverlay(which){
      if(which === "member") memberOverlay.classList.remove("open");
      if(which === "area")   areaOverlay.classList.remove("open");
      if(which === "pay")    payOverlay.classList.remove("open");
    }

    document.addEventListener("click", (e) => {
      const open = e.target.closest("[data-open]");
      if(open){
        const id = open.getAttribute("data-open");
        openOverlay(id);
      }
      const close = e.target.closest("[data-close]");
      if(close){
        const id = close.getAttribute("data-close");
        closeOverlay(id);
      }
    });

    [memberOverlay, areaOverlay, payOverlay].forEach(ov => {
      ov.addEventListener("click", (e) => {
        if(e.target === ov) ov.classList.remove("open");
      });
    });

    // =========================
    // ====== PDF BUTTONS ======
    // =========================
    document.getElementById("btnPdfLandscape").addEventListener("click", () => {
      window.open(siteUrl(PDF_LANDSCAPE), "_blank");
    });
    document.getElementById("btnPdfPortrait").addEventListener("click", () => {
      window.open(siteUrl(PDF_PORTRAIT), "_blank");
    });

    // =========================
    // ====== CART =============
    // =========================
    const CART_KEY = "rc_cart_v3";
    const cartBtn = document.getElementById("cartBtn");
    const drawerOverlay = document.getElementById("drawerOverlay");
    const closeCart = document.getElementById("closeCart");
    const clearCart = document.getElementById("clearCart");
    const checkoutBtn = document.getElementById("checkoutBtn");
    const cartItems = document.getElementById("cartItems");
    const cartTotal = document.getElementById("cartTotal");
    const cartCount = document.getElementById("cartCount");
    const cartNote = document.getElementById("cartNote");

    function getCart(){
      try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
      catch { return []; }
    }
    function setCart(items){
      localStorage.setItem(CART_KEY, JSON.stringify(items));
      renderCart();
    }
    function cartQtySum(items){
      return items.reduce((a,b)=>a+(Number(b.qty)||1),0);
    }

    function addItem(item){
      const cart = getCart();
      const sig = item.sig || item.title;
      const found = cart.find(x => x.sig === sig);
      if(found){
        found.qty = (Number(found.qty)||1) + (Number(item.qty)||1);
      }else{
        cart.push(item);
      }
      setCart(cart);
      openCart();
    }

    function removeItem(sig){
      setCart(getCart().filter(x => x.sig !== sig));
    }

    function changeQty(sig, delta){
      const cart = getCart();
      const it = cart.find(x => x.sig === sig);
      if(!it) return;
      it.qty = Math.max(1, (Number(it.qty)||1) + delta);
      setCart(cart);
    }

    function openCart(){
      drawerOverlay.classList.add("open");
      drawerOverlay.setAttribute("aria-hidden","false");
    }
    function closeCartFn(){
      drawerOverlay.classList.remove("open");
      drawerOverlay.setAttribute("aria-hidden","true");
    }

    cartBtn.addEventListener("click", openCart);
    closeCart.addEventListener("click", closeCartFn);
    drawerOverlay.addEventListener("click", (e) => {
      if(e.target === drawerOverlay) closeCartFn();
    });

    clearCart.addEventListener("click", () => setCart([]));

    function renderCart(){
      const cart = getCart();
      cartCount.textContent = cartQtySum(cart);

      if(cart.length === 0){
        cartItems.innerHTML = `<p class="help" style="margin:0">Keranjang masih kosong.</p>`;
        cartTotal.textContent = money(0);
        cartNote.style.display = "none";
        return;
      }

      let total = 0;
      let hasUnknown = false;

      cartItems.innerHTML = cart.map(it => {
        const price = Number(it.price);
        const known = Number.isFinite(price) && price > 0;

        if(known){
          total += price * (Number(it.qty)||1);
        }else{
          hasUnknown = true;
        }

        return `
          <div class="item">
            <div>
              <div class="t">${it.title}</div>
              <div class="m">
                ${it.meta ? it.meta : ""}
                <div style="margin-top:6px;font-weight:1000;color:${known ? "var(--good)" : "var(--warn)"}">
                  ${known ? money(price) : "Harga konsultasi / dikonfirmasi admin"}
                </div>
              </div>
            </div>
            <div class="right">
              <div class="qty">
                <button class="qbtn" data-q="-1" data-sig="${encodeURIComponent(it.sig)}">-</button>
                <span>${it.qty}</span>
                <button class="qbtn" data-q="1" data-sig="${encodeURIComponent(it.sig)}">+</button>
              </div>
              <button class="rm" data-rm="${encodeURIComponent(it.sig)}">Hapus</button>
            </div>
          </div>
        `;
      }).join("");

      cartTotal.textContent = money(total);

      if(hasUnknown){
        cartNote.style.display = "block";
        cartNote.textContent = "Catatan: sebagian item memiliki harga konsultasi / konfirmasi admin.";
      }else{
        cartNote.style.display = "none";
      }
    }

    cartItems.addEventListener("click", (e) => {
      const qbtn = e.target.closest("[data-q]");
      if(qbtn){
        const sig = decodeURIComponent(qbtn.getAttribute("data-sig"));
        const d = Number(qbtn.getAttribute("data-q"));
        changeQty(sig, d);
        return;
      }
      const rm = e.target.closest("[data-rm]");
      if(rm){
        const sig = decodeURIComponent(rm.getAttribute("data-rm"));
        removeItem(sig);
      }
    });

    // =========================
    // ====== ADD BUTTONS ======
    // =========================
    document.addEventListener("click", (e) => {
      const b = e.target.closest("[data-add-simple]");
      if(!b) return;
      const title = String(b.getAttribute("data-add-simple") || "").trim();
      addItem({
        type: "simple",
        title: title.toUpperCase(),
        qty: 1,
        price: 0,
        meta: "Detail & harga akan dibahas via WhatsApp.",
        sig: "simple::" + title.toUpperCase()
      });
    });

    document.addEventListener("click", (e) => {
      const b = e.target.closest("[data-add-fixed]");
      if(!b) return;

      const code = b.getAttribute("data-add-fixed");
      const title = String(b.getAttribute("data-title") || "").trim().toUpperCase();

      let price = 0;
      let meta = "";

      if(code === "PPS"){
        price = PRICE_PPS;
        meta = "Harga fix: " + money(PRICE_PPS) + "<br>Coaching sampai paham alur penawaran.";
      }
      if(code === "SUEG"){
        price = PRICE_SUEG;
        meta = "Harga fix: " + money(PRICE_SUEG) + "<br>Pendampingan eksekusi & monitoring.";
      }

      addItem({
        type: "fixed",
        title: title,
        qty: 1,
        price: price,
        meta: meta,
        sig: "fixed::" + code
      });
    });

    // =========================
    // ====== MEMBER LOGIC =====
    // =========================
    const m_qty = document.getElementById("m_qty");
    const m_kodetoko = document.getElementById("m_kodetoko");
    const m_pin = document.getElementById("m_pin");
    const m_preview = document.getElementById("m_preview");
    const m_addCart = document.getElementById("m_addCart");

    function memberPricePer(qty){
      return (qty >= 10) ? 4500 : 5000;
    }

    function renderMemberPreview(){
      const qty = clampInt(m_qty.value || 0, 1);
      const per = memberPricePer(qty);
      const total = per * qty;

      const kode = (m_kodetoko.value || "").trim().toUpperCase();
      const pin  = (m_pin.value || "").trim().toUpperCase();

      m_preview.value =
`#AKTIVASI#${kode || "-"}

PIN / TGL LAHIR : ${pin || "-"}
JUMLAH QTY MEMBER : ${qty}

TOTAL ${moneyUpperRpDot(total)}`;
    }

    [m_qty, m_kodetoko, m_pin].forEach(el => el.addEventListener("input", renderMemberPreview));
    renderMemberPreview();

    m_addCart.addEventListener("click", () => {
      const qty = clampInt(m_qty.value || 0, 1);
      const per = memberPricePer(qty);
      const total = per * qty;

      const kode = (m_kodetoko.value || "").trim().toUpperCase();
      const pin  = (m_pin.value || "").trim().toUpperCase();

      const meta =
`KODE TOKO: ${kode || "-"}
PIN / TGL LAHIR: ${pin || "-"}
JUMLAH QTY MEMBER: ${qty}
TOTAL: ${money(total)}`;

      addItem({
        type:"member",
        title:"NEW MEMBER FRESH",
        qty: 1,
        price: total,
        meta: meta.replace(/\n/g,"<br>"),
        sig: "member::" + qty + "::" + (kode||"-") + "::" + (pin||"-"),
        payload: {
          qtyMember: qty,
          pricePer: per,
          total: total,
          kodeToko: kode || "",
          pin: pin || ""
        }
      });

      closeOverlay("member");
    });

    // =========================
    // ====== AREA LOGIC =======
    // =========================
    const a_namatoko = document.getElementById("a_namatoko");
    const a_kodetoko = document.getElementById("a_kodetoko");
    const a_sub = document.getElementById("a_sub");
    const a_sharelok = document.getElementById("a_sharelok");
    const a_format = document.getElementById("a_format");
    const a_addCart = document.getElementById("a_addCart");

    a_addCart.addEventListener("click", () => {
      const nama = (a_namatoko.value || "").trim();
      const kode = (a_kodetoko.value || "").trim().toUpperCase();
      const sub  = (a_sub.value || "").trim();
      const link = (a_sharelok.value || "").trim();
      const fmt  = (a_format.value || "").trim();

      if(!fmt){
        alert("Silakan pilih format (Landscape/Portrait).");
        return;
      }

      const meta =
`NAMA TOKO: ${nama || "-"}
KODE TOKO: ${kode || "-"}
BERAPA SUB: ${sub || "-"}
SHARELOK: ${link || "-"}
FORMAT: ${fmt}
REVISI GRATIS: 1 x 24 JAM`;

      addItem({
        type:"area",
        title:"DESIGN AREA COVERAGE",
        qty: 1,
        price: PRICE_AREA,
        meta: meta.replace(/\n/g,"<br>"),
        sig: "area::" + (kode||"-") + "::" + (fmt||"-") + "::" + (nama||"-"),
        payload: {
          namaToko: nama || "",
          kodeToko: kode || "",
          sub: sub || "",
          sharelok: link || "",
          format: fmt || ""
        }
      });

      closeOverlay("area");
    });

    // =========================
    // ====== CONSULT WA =======
    // =========================
    document.addEventListener("click", (e) => {
      const c = e.target.closest("[data-consult]");
      if(!c) return;

      const type = c.getAttribute("data-consult");
      let msg = "HALO, MAU TANYA DULU.";

      if(type === "PPS") msg = "HALO, MAU TANYA DULU SOAL MODUL RAHASIA TOP 10 PPS.";
      if(type === "SUEG") msg = "HALO, MAU TANYA DULU SOAL MODUL RAHASIA TOP 10 SUEGEEERRR.";
      if(type === "PPT") msg = "HALO, MAU TANYA DULU SOAL BIKIN PPT.";

      const url = `https://wa.me/${encodeURIComponent(WA_NUMBER)}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    });

    // =========================
    // ====== PAYMENT FLOW =====
    // =========================
    const payChooseQR = document.getElementById("payChooseQR");
    const payChooseTF = document.getElementById("payChooseTF");
    const payQRCard   = document.getElementById("payQRCard");
    const payTFCard   = document.getElementById("payTFCard");

    const payBuyerName = document.getElementById("payBuyerName");
    const payUploadForm = document.getElementById("payUploadForm");
    const payConfirm = document.getElementById("payConfirm");
    const uploadStateLabel = document.getElementById("uploadStateLabel");

    let selectedPay = "";         // "QRIS" / "TRANSFER"
    let currentOrderNo = "";      // generated per checkout
    let openedUploadForm = false; // gate bukti upload

    function showPayCard(which){
      if(which === "QRIS"){
        payQRCard.style.display = "block";
        payTFCard.style.display = "none";
      }
      if(which === "TRANSFER"){
        payQRCard.style.display = "none";
        payTFCard.style.display = "block";
      }
    }

    function resetPayState(){
      selectedPay = "";
      currentOrderNo = "";
      openedUploadForm = false;
      uploadStateLabel.textContent = "BELUM UPLOAD";
      uploadStateLabel.style.color = "var(--warn)";
      payBuyerName.value = "";
      payQRCard.style.display = "none";
      payTFCard.style.display = "none";
      refreshConfirmBtn();
    }

    function refreshConfirmBtn(){
      const nameOk = (payBuyerName.value || "").trim().length > 0;
      const methodOk = !!selectedPay;
      const uploadOk = openedUploadForm; // gate bukti via Form
      if(nameOk && methodOk && uploadOk) payConfirm.classList.remove("disabledBtn");
      else payConfirm.classList.add("disabledBtn");
    }

    payBuyerName.addEventListener("input", refreshConfirmBtn);

    payChooseQR.addEventListener("click", () => {
      selectedPay = "QRIS";
      showPayCard("QRIS");
      refreshConfirmBtn();
    });
    payChooseTF.addEventListener("click", () => {
      selectedPay = "TRANSFER";
      showPayCard("TRANSFER");
      refreshConfirmBtn();
    });

    // =========================
    // ====== ORDER SUMMARY =====
    // =========================
    function calcKnownTotal(cart){
      return cart.reduce((sum, it) => {
        const price = Number(it.price);
        const known = Number.isFinite(price) && price > 0;
        if(!known) return sum;
        return sum + (price * (Number(it.qty)||1));
      }, 0);
    }

    function buildRingkasanOrderText(paymentMethod){
      const cart = getCart();
      let lines = [];
      lines.push("RINGKASAN ORDER:");
      lines.push("");

      cart.forEach((it, idx) => {
        const n = idx + 1;

        if(it.type === "member" && it.payload){
          const p = it.payload;
          lines.push(`${n}) NEW MEMBER FRESH`);
          lines.push(`#AKTIVASI#${(p.kodeToko || "-").toUpperCase()}`);
          lines.push(`PIN / TGL LAHIR : ${(p.pin || "-").toUpperCase()}`);
          lines.push(`JUMLAH QTY MEMBER : ${p.qtyMember}`);
          lines.push(`TOTAL ${moneyUpperRpDot(p.total)}`);
          lines.push("");
          return;
        }

        if(it.type === "area" && it.payload){
          const p = it.payload;
          lines.push(`${n}) DESIGN AREA COVERAGE`);
          lines.push(`NAMA TOKO : ${p.namaToko || "-"}`);
          lines.push(`KODE TOKO : ${(p.kodeToko || "-").toUpperCase()}`);
          lines.push(`BERAPA SUB : ${p.sub || "-"}`);
          lines.push(`SHARELOK : ${p.sharelok || "-"}`);
          lines.push(`FORMAT : ${p.format || "-"}`);
          lines.push(`HARGA : ${money(it.price)}`);
          lines.push(`REVISI GRATIS : 1 X 24 JAM`);
          lines.push("");
          return;
        }

        if(it.type === "fixed"){
          lines.push(`${n}) ${String(it.title || "").toUpperCase()}`);
          lines.push(`HARGA : ${money(it.price)}`);
          lines.push("");
          return;
        }

        lines.push(`${n}) ${String(it.title || "").toUpperCase()}`);
        lines.push(`CATATAN : MOHON INFO DETAIL & HARGA (KONSULTASI).`);
        lines.push("");
      });

      const knownTotal = calcKnownTotal(cart);
      lines.push(`TOTAL (ITEM HARGA PASTI) : ${money(knownTotal)}`);
      lines.push(`METODE PEMBAYARAN : ${String(paymentMethod || "-").toUpperCase()}`);

      return lines.join("\n");
    }

    function buildWAMessageAfterConfirm({orderNo, buyerName, paymentMethod}){
      const cart = getCart();
      const knownTotal = calcKnownTotal(cart);

      let lines = [];
      lines.push("HALLO, SAYA SUDAH MELAKUKAN KONFIRMASI PAYMENT");
      lines.push("TRANSAKSI SUKSES");
      lines.push("");
      lines.push(`NO ORDER : ${orderNo}`);
      lines.push(`NAMA PEMESAN : ${String(buyerName||"").trim().toUpperCase() || "-"}`);
      lines.push("");

      // detail item (khusus NEW MEMBER + AREA, sesuai request lu)
      cart.forEach((it, idx) => {
        const n = idx + 1;

        if(it.type === "member" && it.payload){
          const p = it.payload;
          lines.push(`${n}) NEW MEMBER FRESH`);
          lines.push(`AKTIVASI#${(p.kodeToko || "-").toUpperCase()}`);
          lines.push(`PIN / TGL LAHIR : ${(p.pin || "-").toUpperCase()}`);
          lines.push(`JUMLAH QTY MEMBER : ${p.qtyMember}`);
          lines.push(`TOTAL ${moneyUpperRpDot(p.total)}`);
          lines.push("");
          return;
        }

        if(it.type === "area" && it.payload){
          const p = it.payload;
          lines.push(`${n}) DESIGN AREA COVERAGE`);
          lines.push(`NAMA TOKO : ${p.namaToko || "-"}`);
          lines.push(`KODE TOKO : ${(p.kodeToko || "-").toUpperCase()}`);
          lines.push(`BERAPA SUB : ${p.sub || "-"}`);
          lines.push(`FORMAT : ${p.format || "-"}`);
          lines.push(`HARGA : ${money(it.price)}`);
          lines.push("");
          return;
        }

        // yang lain tetap kebawa biar lengkap
        lines.push(`${n}) ${String(it.title || "").toUpperCase()}`);
        const price = Number(it.price);
        const known = Number.isFinite(price) && price > 0;
        if(known) lines.push(`HARGA : ${money(price)}`);
        else lines.push("HARGA : KONSULTASI / KONFIRMASI ADMIN");
        lines.push("");
      });

      lines.push(`TOTAL (ITEM HARGA PASTI) : ${money(knownTotal).toUpperCase()}`);
      lines.push(`PAYMENT METODE : ${String(paymentMethod||"-").toUpperCase()}`);
      lines.push("");
      lines.push("TERIMA KASIH.");

      return lines.join("\n");
    }

    // =========================
    // ====== CHECKOUT =========
    // =========================
    checkoutBtn.addEventListener("click", () => {
      const cart = getCart();
      if(cart.length === 0){
        alert("Keranjang masih kosong.");
        return;
      }

      // tutup drawer, buka payment
      closeCartFn();
      resetPayState();

      // generate order no per checkout
      currentOrderNo = makeOrderNo();

      openOverlay("pay");
    });

    // Upload bukti (Form) -> buka prefilled form
    payUploadForm.addEventListener("click", () => {
      const cart = getCart();
      if(cart.length === 0){
        alert("Keranjang masih kosong.");
        return;
      }

      const buyerName = (payBuyerName.value || "").trim();
      if(!buyerName){
        alert("Isi nama pemesan dulu.");
        return;
      }

      if(!selectedPay){
        alert("Pilih metode pembayaran dulu (QRIS / TRANSFER).");
        return;
      }

      // ringkasan & total buat form
      const knownTotal = calcKnownTotal(cart);
      const ringkasan = buildRingkasanOrderText(selectedPay);

      // build prefill url
      const url = buildPrefillUrl({
        payMethod: selectedPay,
        orderNo: currentOrderNo,
        summary: ringkasan,
        totalRp: knownTotal,
        buyerName: buyerName.toUpperCase(),
      });

      // buka form
      window.open(url, "_blank");

      // gate upload
      openedUploadForm = true;
      uploadStateLabel.textContent = "FORM DIBUKA (UPLOAD SEKARANG)";
      uploadStateLabel.style.color = "var(--good)";
      refreshConfirmBtn();
    });

    // Konfirmasi payment -> kirim WA + optional clear cart
    payConfirm.addEventListener("click", () => {
      if(payConfirm.classList.contains("disabledBtn")){
        alert("Lengkapi dulu: metode, nama pemesan, dan klik upload bukti (Form).");
        return;
      }

      const buyerName = (payBuyerName.value || "").trim();
      const msg = buildWAMessageAfterConfirm({
        orderNo: currentOrderNo,
        buyerName,
        paymentMethod: selectedPay
      });

      const waUrl = `https://wa.me/${encodeURIComponent(WA_NUMBER)}?text=${encodeURIComponent(msg)}`;
      window.open(waUrl, "_blank");

      // close payment
      closeOverlay("pay");

      // optional: clear cart setelah konfirmasi
      setCart([]);

      // reset internal
      resetPayState();
    });

    // =========================
    // ====== MENU BTN =========
    // =========================
    document.getElementById("menuBtn").addEventListener("click", () => {
      openCart();
    });

    // =========================
    // ====== INIT CART =========
    // =========================
    renderCart();
  </script>
</body>
</html>
```0
